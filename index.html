<!DOCTYPE html>
<html>
<head>
	<title>QR Code Decoder Tool</title>
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<style>
		body {
			font-family: Arial, sans-serif;
			background-color: #f2f2f2;
		}

		.container {
			margin: 50px auto;
			max-width: 600px;
			padding: 20px;
			background-color: #fff;
			box-shadow: 0 0 10px rgba(0,0,0,0.2);
			border-radius: 5px;
			text-align: center;
		}

		#qr-canvas {
			margin-top: 20px;
			max-width: 100%;
			height: auto;
		}
	</style>
</head>
<body>
	<div class="container">
		<h1>QR Code Decoder Tool</h1>
		<p>Upload an image containing a QR code or use your device's camera to scan the code.</p>
		<input type="file" accept="image/*" capture="camera" id="qr-reader" style="display:none">
		<button id="qr-reader-button">Scan QR Code</button>
		<br><br>
		<canvas id="qr-canvas"></canvas>
		<div id="output"></div>
	</div>

	<script src="https://rawgit.com/dwa012/html5-qrcode/master/html5-qrcode.min.js"></script>
	<script>
		var reader = new Html5Qrcode("qr-reader", /* verbose= */ true);
		var resultContainer = document.getElementById('output');

		// Add a listener for the "scan" button
		document.getElementById("qr-reader-button").addEventListener("click", function() {
			reader.start(
				// Start the decoder
				function onScanSuccess(qrCodeMessage) {
					reader.stop();
					resultContainer.innerHTML = `<strong>Result:</strong> ${qrCodeMessage}`;
				},
				function onScanError(errorMessage) {
					console.log(errorMessage);
				},
				/* verbose= */ true,
				/* frequency= */ 500
			);
		});
	</script>
</body>
</html>
